<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Math Quiz for Kids</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Schoolbell&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Schoolbell', cursive;
        }
        .container {
            margin-top: 50px;
        }
        h1 {
            text-align: center;
        }
        .question {
            display: none;
            margin-bottom: 20px;
        }
        .btn-primary {
            font-size: 18px;
            margin-top: 10px; /* Add margin-top to space out the button */
        }
        .form-control {
            margin-bottom: 10px; /* Add margin-bottom to space out the input field */
        }
        #scoreModal .modal-dialog {
            max-width: 400px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Fun Math Quiz for Kids</h1>
    
    <div id="quiz">
        <div class="question" id="question1" style="display: block;">
            <h3>Question 1: What is 2 + 2?</h3>
            <input type="number" class="form-control" id="q1">
            <button class="btn btn-primary btn-block" onclick="checkAnswer(4)">Next</button>
        </div>
        <div class="question" id="question2">
            <h3>Question 2: What is 5 - 3?</h3>
            <input type="number" class="form-control" id="q2">
            <button class="btn btn-primary btn-block" onclick="checkAnswer(2)">Next</button>
        </div>
        <div class="question" id="question3">
            <h3>Question 3: What is 4 * 6?</h3>
            <input type="number" class="form-control" id="q3">
            <button class="btn btn-primary btn-block" onclick="checkAnswer(24)">Submit</button>
        </div>
    </div>
</div>

<!-- Score Modal -->
<div class="modal fade" id="scoreModal" tabindex="-1" role="dialog" aria-labelledby="scoreModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="scoreModalLabel">Your Score</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="score"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
    var currentQuestion = 1;

    function checkAnswer(correctAnswer) {
        var userAnswer = parseInt(document.getElementById('q' + currentQuestion).value.trim());
        if (isNaN(userAnswer)) {
            alert("Please provide an answer.");
            return;
        }
        
        var isCorrect = userAnswer === correctAnswer;
        if (isCorrect) {
            speak("Yes");
        } else {
            speak("No");
        }
        
        document.getElementById('question' + currentQuestion).style.display = 'none';
        currentQuestion++;
        if (currentQuestion <= 3) {
            document.getElementById('question' + currentQuestion).style.display = 'block';
        } else {
            calculateScore(); // Call calculateScore() when all questions are answered
        }
    }

    function speak(text) {
        var utterance = new SpeechSynthesisUtterance(text);
        window.speechSynthesis.speak(utterance);
    }

    function calculateScore() {
        var q1 = parseInt(document.getElementById('q1').value);
        var q2 = parseInt(document.getElementById('q2').value);
        var q3 = parseInt(document.getElementById('q3').value);

        if (isNaN(q1) || isNaN(q2) || isNaN(q3)) {
            alert("Please answer all questions.");
            return;
        }

        var score = (q1 === 4 ? 1 : 0) + (q2 === 2 ? 1 : 0) + (q3 === 24 ? 1 : 0);

        document.getElementById('score').innerText = "You got " + score + " out of 3 correct!";
        $('#scoreModal').modal('show');

        // Speak the score
        speak("Your score is " + score + " out of 3.");
    }
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Welcome To Fresh Teacher's Library, one stop center for academic needs of Ugandan schools. Our core mandate is to apply creativity and come up with innovative solutions in Ugandas' education sector.">
    <meta name="keyword" content="Fresh Teacher's Library, www.freshteacheruganda.com, Schemes Of Work, Lesson Plans, Lesson Notes, Topical Questions, Luganda Translated Movies, Past Papers">
    <meta name="author" content="Fresh Teacher">
    <link rel="icon" type="image/png" sizes="16x16" href="logo.jpg">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta property="og:site_name" content="Fresh Teacher's Library" />
    <meta property="og:image" content="https://2.bp.blogspot.com/-IEabwvLwNVY/XnccoVSvUgI/AAAAAAAAFro/mQPkBepUZpcNo1WG8trICTTg7unzwwXSgCK4BGAYYCw/s1600/SquareFit_20200322_064134.jpg" />
    
    <title>Mathematics Quiz</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Schoolbell&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Schoolbell', cursive;
        }
        .container {
            margin-top: 50px;
        }
        h1 {
            text-align: center;
        }
        .question {
            display: none;
            margin-bottom: 20px;
        }
        .btn-primary {
            font-size: 18px;
            margin-top: 10px; /* Add margin-top to space out the button */
        }
        .form-control {
            margin-bottom: 10px; /* Add margin-bottom to space out the input field */
        }
        #scoreModal .modal-dialog {
            max-width: 400px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Fun Math Quiz for Kids</h1>
    
    <div id="quiz">
        <!-- Questions will be dynamically inserted here -->
    </div>
</div>

<!-- Score Modal -->
<div class="modal fade" id="scoreModal" tabindex="-1" role="dialog" aria-labelledby="scoreModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="scoreModalLabel">Your Score</h5>
            </div>
            <div class="modal-body">
                <p id="score"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="repeatQuiz()">Repeat Quiz üîÅ</button>
                <a href="index.html" class="btn btn-secondary">Back to Homepage üè†</a>
            </div>
        </div>
    </div>
</div>

<script>
var questions = [];

// Function to generate random integer between min and max (inclusive)
function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

// Generate 10 random questions
for (var i = 0; i < 10; i++) {
    var num1 = getRandomInt(1, 20);
    var num2 = getRandomInt(1, 20);
    var operatorIndex = getRandomInt(0, 3);
    var operator;
    switch (operatorIndex) {
        case 0:
            operator = '+';
            break;
        case 1:
            operator = '-';
            break;
        case 2:
            operator = '*';
            break;
        case 3:
            operator = '/';
            break;
        default:
            console.error("Invalid operator index");
            break;
    }
    var text, answer;

    switch (operator) {
        case '+':
            text = "What is " + num1 + " + " + num2 + "?";
            answer = num1 + num2;
            break;
        case '-':
            text = "What is " + num1 + " - " + num2 + "?";
            answer = num1 - num2;
            break;
        case '*':
            text = "What is " + num1 + " * " + num2 + "?";
            answer = num1 * num2;
            break;
        case '/':
            // Ensure division is valid (no division by zero)
            num2 = num2 === 0 ? 1 : num2;
            text = "What is " + (num1 * num2) + " / " + num2 + "?";
            answer = num1;
            break;
        default:
            console.error("Invalid operator");
            break;
    }

    questions.push({ text: text, answer: answer });
}

console.log(questions);


    // Function to select a random subset of questions
    function selectRandomQuestions(numQuestions) {
        var shuffledQuestions = questions.sort(() => Math.random() - 0.5); // Shuffle the questions array
        return shuffledQuestions.slice(0, numQuestions);
    }

    // Function to initialize the quiz with random questions
    function initializeQuiz() {
        var randomQuestions = selectRandomQuestions(10); // Select 10 random questions
        var quizElement = document.getElementById('quiz');
        for (var i = 0; i < randomQuestions.length; i++) {
            var question = randomQuestions[i];
            var questionElement = document.createElement('div');
            questionElement.className = 'question';
            questionElement.innerHTML = '<h3>' + question.text + '</h3>' +
                                         '<input type="number" class="form-control" id="q' + (i + 1) + '">' +
                                         '<button class="btn btn-primary btn-block" onclick="checkAnswer(' + question.answer + ',' + (i + 1) + ')">Next</button>';
            quizElement.appendChild(questionElement);
        }
        // Show the first question
        document.querySelector('.question').style.display = 'block';
    }

    // Call initializeQuiz to start the quiz
    initializeQuiz();

    var currentQuestion = 1;

    function checkAnswer(correctAnswer, questionNumber) {
        var userAnswer = parseInt(document.getElementById('q' + currentQuestion).value.trim());
        if (isNaN(userAnswer)) {
            alert("Please provide an answer.");
            return;
        }
        
        var isCorrect = userAnswer === correctAnswer;
        if (isCorrect) {
            speak("Yes");
        } else {
            speak("No");
        }
        
        document.querySelector('.question:nth-child(' + questionNumber + ')').style.display = 'none'; // Hide the current question
        currentQuestion++;
        if (currentQuestion <= 10) {
            document.querySelector('.question:nth-child(' + currentQuestion + ')').style.display = 'block'; // Show the next question
        } else {
            calculateScore(); // Call calculateScore() when all questions are answered
        }
    }

    function speak(text) {
        var utterance = new SpeechSynthesisUtterance(text);
        window.speechSynthesis.speak(utterance);
    }

    function calculateScore() {
        var score = 0;
        for (var i = 1; i <= 10; i++) {
            var userAnswer = parseInt(document.getElementById('q' + i).value);
            if (!isNaN(userAnswer) && userAnswer === questions[i - 1].answer) {
                score++;
            }
        }
        
        document.getElementById('score').innerText = "You got " + score + " out of 10 questions correctly!";
        $('#scoreModal').modal('show');

        // Speak the score
        speak("Your score is " + score + " out of 10.");
    }

    function repeatQuiz() {
        location.reload();
    }
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
